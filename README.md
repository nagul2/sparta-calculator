# 내일배움 캠프 2주차 계산기 과제
---
## 📍1️⃣ LV1 구현
### ✅ v1 패키지에 작성: git 전략 컨벤션을 지키고 코드 내역도 유지해보기 위함
  - SeqCalculator 클래스 하나로 두 정수값을 입력받고 +, -, *, / 의 연산결과를 정수로 반환하는 계산기
  - 양의 정수(0포함)을 입력받은 두 수를 입력받은 연산자로 연산하고 결과를 출력
  - 무한 반복문을 통해 계속 계산기를 이용할 수 있고, "exit"를 입력하면 계산기를 종료

---
## 📍2️⃣ LV2 구현
### ✅ v2 패키지에 작성
- 클라이언트 역할인 App 클래스와, 실제 계산을 하는 ClazzCalculator 클래스로 분리
  - 입력값 검증, 계산 결과를 출력하는 등의 로직은 App 클래스에서 담당하고 계산에 관련된 로직은 ClazzCalculator 클래스가 담당
  

- ClazzCalculator 클래스의 이력을 보관하는 멤버 변수에 private 접근 제어자를 사용하여 캡슐화를 진행하고, 유용한 기능을 제공하여 값들을 조회하거나 수정하도록 작성
  - historyPrinter(): 계산 이력을 출력, 계산 이력이 없으면 계산이력이 없다는 검증 코드 반영
  - getCalculateResult(): 연산자를 매개변수로하여 연산 결과를 반환하는 기능
  - historyCountHandler(): 연산이 완료되면 계산 이력의 개수를 반환하고, 이력이 10개 초과가 되면 가장 오래된 계산 이력을 삭제(컬렉션의 가장 먼저 저장된 데이터를 삭제하는 메서드 구현)

---
## 📍3️⃣ LV3 구현
### ✅ v3 패키지에 작성
- Enum 클래스를 활용하여 Operation(연산자)와 OtherCommand(명령어)를 관리하여 애플리케이션 내에서 변하지 않는 값을 상수로 관리
  - Operation의 input은 사용자가 입력하는 연산자이고 symbol은 연산 결과를 출력 시 표시되는 기호임  
  
  
- 정수, 실수를 입력 받을 수 있고 그에 따른 연산결과를 반환하도록 제네릭과 다형성을 활용
  - <T extends Number>로 타입 변수에 상향 제한을 걸어 Number와 그 하위 타입만 받을 수 있도록 하여 최소한의 타입 안정성을 확보
  - 양의 정수 (0포함)의 제한 사항을 제거하여 부호도 입력 받을 수 있도록 하고, 타입 안정성을 위해 String 타입으로 입력을 받아 후 처리를 진행
  - String으로 입력받는 값을 숫자, 음수부호, 소수점만 입력 받도록 하기 위해 상수로 정규식을 선언하여 정규식의 패턴과 일치하는 값만 입력받도록 검증 코드를 추가
  - 4.0, 1.0 처럼 .0 으로 입력 받거나, 1.5 + 2.5 처럼 실수로 입력받은 연산결과가 4.0 처럼 정수인 경우 소수점을 제거하고 정수만 출력되도록 검증 코드를 추가
  

- 람다식, Stream 문법을 활용해보기 위한 저장된 연산 결과 중 Scanner로 입력받은 값보다 큰 결과값 출력하는 메서드 작성
  - inputThanBigValuePrint()
    - Stream의 중간 연산인 filter, sorted를 활용하여 저장 이력의 내역 중 입력 값 보다 큰 값들을 오름차순으로 정렬하여 출력
    - sorted 사용시 같은 타입으로 비교해야 에러가 발생하지 않으므로 Comparator를 활용하여 저장된 내역을 모두 double 타입으로 꺼내서 정렬
    - sorted 의 람다식은 메서드 참조로 변경이 가능하나 개인적으로는 코드가 더 가독성이 떨어진다고 판단하여 람다식으로 유지
      
## 📍4️⃣ 피드백 반영 수정
### LV1 - equals 비교 순서 수정
- NullPointerException 방지하도록 코드 수정

### LV2 - 중복된 기능을 하는 메서드를 리팩토링
- 입력값을 받는 메서드가 검증로직이 달라 첫 번째 입력값을 받는 메서드와 두 번째 입력값을 받는 메서드로 분리 되어있었는데 이를 하나의 메서드로 통합

### LV3 - 의미있는 제네릭을 사용하도록 리팩토링
- 의미없이 제네릭을 사용하던 코드를 조금더 의미있게 변경
- LV2에서 적용한 코드를 LV3에도 반영
- 불필요한 코드와 메서드들 제거

## 📍📝 회고 기록
#### LV1(단일 클래스 계산기), LV2(클래스 분리, 캡슐화) 개발 회고
- https://nagul2.tistory.com/453
#### LV3(Generic, Enum 사용) 개발 회고
- https://nagul2.tistory.com/454
#### 피드백 반영 회고
- https://nagul2.tistory.com/476
---

